<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/config/defaultLayout}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .container{
            padding-left: 0;
            padding-right: 0;
            padding-bottom: 0;
            width: 1380px;
        }
        .searchWrap{
            margin-top: 160px;
        }
        .optionList{
            width: 400px;
            position : relative;
            top: 0;
            left: 0;
            padding : 0 2.34% 0 2.86%;
            box-sizing: border-box;
            display: inline-block;
            float: left;
        }
        #prodList{
            list-style: none;
        }
        .listTop{
            position: relative;
            padding: 30px 55px 0;
            width:100%;
            z-index: -1;
        }
        .listTop > p {
            font-size: 25px;
        }
        .accordionList{
            display: none;
            clear: both;
            list-style: none;
            margin: 20px 0;
            transition: 1s;
        }
        .accordionList-category{
            list-style: none;
        }
        .flexbox > ul > li > button {
            padding: 10px;
            background-color: white;
            border: black 1px solid;
        }
        .accordionList-price > li {
            float: left;
            margin:5px;
        }
        .accordionList-category > li {
            margin: 10px;
        }
        .accordionList-gender > li {
            margin : 10px;
        }
        .active{
            display: block;
        }
        .option-size{
            clear: both;
            margin: 20px 0;
            padding: 20px 0;
        }
        .optionList > .optionList-inner > div > p > span{
            font-weight: bold;
        }
        .optionList-inner{
            height: calc(100vh - 220px);
            overflow-y: auto;
            -ms-overflow-style: none;
            box-sizing: border-box;
            padding-bottom: 110px;
        }
        .optionList{
            top: auto;
            bottom: 0;
            min-height: calc(100vh - 64px);
            position: relative;
            padding-bottom: 0
        }
        .product-li{
            display: inline-block;
            float: left;
            margin: 20px;
        }
    </style>
    <script>
        /*$(document).ready(() => {
            const slider = document.getElementById('filterSlider');

            const maxPrice = [[${maxPrice}]]; // maxPrice 값 slider 최대값 설정

            noUiSlider.create(slider, {
                start: [0, maxPrice], // 초기 최소 및 최대 값 설정
                connect: true, // 슬라이더가 연결된 바 표시
                range: {
                    'min': 0,
                    'max': maxPrice
                },
                step: 10, // 슬라이더 단위
                format: {
                    to: function(value) {
                        return Math.round(value); // 값 표시
                    },
                    from: function(value) {
                        return Number(value);
                    }
                }
            });

            const priceMin = document.getElementById('priceMin');
            const priceMax = document.getElementById('priceMax');

            slider.noUiSlider.on('update', function(values, handle) {
                if (handle === 0) {
                    priceMin.innerHTML = values[0]; // 최소 가격 업데이트
                } else {
                    priceMax.innerHTML = values[1]; // 최대 가격 업데이트
                }
            });
        })*/
    </script>
</head>
<body>
<div class="container" layout:fragment="content">
    <div class="searchWrap">
        <div class="listTop">
            <p>
                <strong>
                    " <span id="search-keyword" th:text="${keyword}"></span> "</strong>
                에 대한
                <strong><span th:text="${count}" style="color: red">0</span></strong>개의 검색결과
            </p>
        </div>
        <div class="optionList" >
            <div class="optionList-inner">
                <div class="option-category">
                    <p><span>카테고리</span></p>
                    <div class="option-category-list">
                        <ul class="accordionList accordionList-category active">
                            <li>
                                <input type="checkbox" id="ref" name="ref" value="2">
                                <label for="ref">신발</label>
                            </li>
                            <li>
                                <input type="checkbox" id="ref2" name="ref" value="3">
                                <label for="ref2">의류</label>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="option-gender">
                    <p><span>성별</span></p>
                    <ul class="accordionList accordionList-gender active">
                        <li th:each="gender : ${genderList}">
                            <label th:for="${gender}">
                                <input type="checkbox" th:value="${gender}" th:id="${gender}" th:text="${gender}">
                            </label>
                        </li>
                    </ul>
                </div>

                <div class="option-price">
                    <p><span>가격</span></p>
                    <div class="flexbox">
                        <ul class="accordionList accordionList-price active" style="">
                            <li th:each="price : ${priceList}">
                                <button th:text="${price}"></button>
                            </li>
                        </ul>
                    </div>
                    <div class="priceRange">

                    </div>

                </div>

                <div class="option-size">
                    <p><span>사이즈</span></p>
                    <ul class="accordionList accordionList-size active">

                    </ul>
                </div>

                <div class="option-color">
                    <p><span>색상</span></p>
                    <ul class="accordionList accordionList-color active">
                        <!--                    <li th:each=" : ${colorList}" th:value=""></li>-->
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div id="product-list" class="listRight">
        <ul class="productList" id="prodList">
            <li class="product-li" th:each="product: ${products}">
                <div class="pro_area">
                    <div class="pro_thumbNail">
                        <a href="" th:id="selDetail">
                            <img th:id="selGoods" class="img_goods" th:src="${product.getThumbnailUrl().get(0)}" alt="Product Thumbnail" style="display: inline-block;"></img>
                        </a>
                    </div>
                    <!-- like 버튼 -->
                    <div class="likeArea">
                        <a href="javascript:void(0)" class="icon_like"></a>
                    </div>

                    <!-- 상품 정보 -->
                    <div class="pro_info" th:each="product : ${products}">
                        <p class="prdName_name" th:text="${product.title}"></p>
                        <div class="prdName">
                            <p class="prdName_price" th:utext="${product.price + '원'}">
                            </p>
                        </div>
                    </div>
                </div>
                <input type="hidden" id="categoryId" th:value="${product.getCategory().id}">
            </li>
        </ul>
    </div>

</div>
</body>
</html>